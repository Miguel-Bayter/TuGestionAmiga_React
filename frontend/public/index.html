<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tu Gestion Amiga</title>
    <!--
      index.html

      Página principal del frontend HTML (catálogo de libros).

      ¿Por qué existe?
      - Es la versión estática original del proyecto, útil para validar el diseño y la integración con la API.
      - Permite probar la aplicación sin necesidad de correr React.

      ¿Para qué sirve?
      - Muestra el listado de libros consumiendo GET /api/libros.
      - Permite acciones principales (ver detalles, comprar, rentar) desde script.js.
      - Sirve como punto de entrada cuando se accede a http://localhost:3000/index.html.
    -->
    <!-- Script de Tailwind CSS desde CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Hoja de estilos personalizada -->
    <link rel="stylesheet" href="src/css/styles.css">
    <!-- 
      Bloque de estilos para Tailwind JIT CDN.
      Aquí podemos usar directivas como @apply para crear clases personalizadas,
      lo que nos ayuda a mantener el HTML limpio y reutilizar componentes.
    -->
    <style type="text/tailwindcss">
        @layer components {
            /* 
             * .card: Estilo base para las tarjetas de libro.
             * Define el fondo, borde redondeado, sombra y overflow.
             */
            .card {
                @apply bg-white rounded-lg shadow-md overflow-hidden transition-transform duration-200 hover:-translate-y-1 hover:shadow-lg;
            }

            /*
             * .btn: Estilo base para todos los botones.
             * Define el padding, tamaño de fuente, y transición.
             */
            .btn {
                @apply w-full px-4 py-2 text-sm font-semibold rounded-lg transition-colors duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
            }
            /*
             * .btn-primary: Botón de acción principal.
             * Usado para acciones como "Comprar".
             */
            .btn-primary {
                @apply btn bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-blue-500;
            }
            /*
             * .btn-secondary: Botón de acción secundaria.
             * Usado para acciones como "Rentar".
             */
            .btn-secondary {
                @apply btn bg-teal-600 text-white hover:bg-teal-700 focus-visible:ring-teal-500;
            }
            /*
             * .btn-outline: Botón con borde, para acciones menos importantes.
             * Usado para "Ver detalles".
             */
            .btn-outline {
                @apply btn bg-white text-slate-700 border border-slate-300 hover:bg-slate-50 focus-visible:ring-slate-400;
            }

            /*
             * .sidebar-link: Estilo para los enlaces del menú lateral.
             */
            .sidebar-link {
                @apply flex items-center p-2 text-gray-600 hover:bg-gray-100 rounded-md;
            }
            /*
             * .sidebar-link-active: Estilo para el enlace activo en el menú.
             */
            .sidebar-link-active {
                @apply bg-blue-100 text-blue-600 font-semibold;
            }

            .filter-btn {
                @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-200 rounded-lg transition-colors duration-200;
            }

            .filter-btn-active {
                @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg;
            }

            /*
             * Card layout:
             * - Por defecto (vista principal) usamos layout horizontal tipo "referencia".
             * - Al activar la vista alternativa, el JS añade la clase `.view-grid` al contenedor
             *   y estas reglas cambian el layout a "card vertical".
             */
            .card-inner {
                @apply p-4 flex flex-col sm:flex-row gap-4;
            }

            .book-meta {
                @apply flex-1;
            }

            .view-grid .card-inner {
                @apply p-0 flex-col gap-0;
            }

            .view-grid .book-meta {
                @apply p-4;
            }

            .book-cover {
                @apply w-24 h-24 sm:w-28 sm:h-28 object-cover rounded-md border border-gray-200 flex-shrink-0;
            }

            .view-grid .book-cover {
                @apply w-full h-48 rounded-none border-0;
            }

            .book-actions {
                /* Acciones responsivas: en móvil apilamos (1 col) para evitar que se rompa a 320px; en sm+ volvemos a 3 cols */
                @apply mt-3 grid grid-cols-1 sm:grid-cols-3 gap-2;
            }

            /* Badge para estado de disponibilidad del libro */
            .status-badge {
                @apply inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full whitespace-nowrap;
            }
            .status-instock {
                @apply bg-green-100 text-green-800;
            }
            .status-rented {
                @apply bg-blue-100 text-blue-800;
            }
            .status-out {
                @apply bg-red-100 text-red-800;
            }

            /* Utilidad para deshabilitar botones (maqueta) */
            .btn-disabled {
                @apply opacity-50 cursor-not-allowed pointer-events-none;
            }

            .view-grid .book-actions {
                /* Vista alternativa: apila los 3 botones para tarjetas verticales */
                @apply grid-cols-1;
            }

            .btn-details {
                @apply w-full px-3 py-2 text-xs font-semibold rounded-md bg-indigo-600 text-white hover:bg-indigo-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500;
            }

            .btn-buy {
                @apply w-full px-3 py-2 text-xs font-semibold rounded-md bg-amber-600 text-white hover:bg-amber-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-amber-500;
            }

            .btn-buy-outline {
                @apply w-full px-3 py-2 text-xs font-semibold rounded-md border border-gray-300 text-gray-700 bg-white hover:bg-gray-50;
            }

            .btn-rent {
                @apply w-full px-3 py-2 text-xs font-semibold rounded-md border border-teal-600 text-teal-700 bg-white hover:bg-teal-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-teal-500;
            }

            .btn-rent-outline {
                @apply btn-rent;
            }
        }
    </style>
</head>
 <body class="bg-gray-100 overflow-x-hidden">
    
    <!-- 
      Contenedor principal de la aplicación.
      Usa Flexbox para organizar el layout en Sidebar y Contenido Principal.
      'md:flex' lo hace flexible en pantallas medianas y grandes.
    -->
    <div class="relative min-h-screen md:flex">
        
        <!-- 
          Sidebar (Menú Lateral)
          - 'absolute' en móvil, 'md:relative' en desktop.
          - Oculto por defecto fuera de la pantalla ('-translate-x-full').
          - Se muestra en desktop ('md:translate-x-0').
          - 'transition' para una animación suave al mostrar/ocultar.
        -->
        <aside id="sidebar" class="bg-white w-64 p-4 absolute inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 transition duration-200 ease-in-out shadow-lg">
            <nav>
                <ul>
                    <li class="mt-2">
                        <a href="index.html" class="sidebar-link sidebar-link-active">
                            <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                            <span class="ml-3">Buscar</span>
                        </a>
                    </li>
                    <li class="mt-2">
                        <a href="src/pages/prestamos.html" class="sidebar-link">
                            <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z" /></svg>
                            <span class="ml-3">Préstamos</span>
                        </a>
                    </li>
                    <li class="mt-2">
                        <a href="src/pages/cuenta.html" class="sidebar-link">
                            <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                            <span class="ml-3">Mi Cuenta</span>
                        </a>
                    </li>
                    <li class="mt-2">
                        <a href="src/pages/ayuda.html" class="sidebar-link">
                            <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.79 4 4s-1.79 4-4 4c-1.742 0-3.223-.835-3.772-2M12 18h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            <span class="ml-3">Ayuda</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Contenido Principal (Header + Main) -->
        <div class="flex-1 flex flex-col">
            
            <!-- Header (Barra Superior) -->
            <header class="bg-white shadow">
                <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8">
                    <div class="flex items-center justify-between">
                        <!-- Logo -->
                        <div class="flex-shrink-0">
                            <span class="text-2xl font-bold text-blue-600">Biblioteca</span>
                        </div>

                        <!-- Navegación Desktop (Oculta en móvil) -->
                        <div class="hidden md:block">
                            <div class="ml-10 flex items-baseline space-x-4">
                                <a href="index.html" class="bg-blue-600 text-white px-3 py-2 rounded-md text-sm font-medium">Inicio</a>
                                <a href="src/pages/login.html" class="text-gray-500 hover:bg-gray-200 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium">Cerrar Sesión</a>
                            </div>
                        </div>

                        <!-- Sección de Usuario Desktop (Oculta en móvil) -->
                        <div class="hidden md:flex items-center">
                            <span class="text-gray-600 text-sm mr-4">Bienvenido, Miguel Bayter</span>
                            <button aria-label="Ver notificaciones" class="p-1 rounded-full text-gray-400 hover:text-gray-600">
                                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 00-5-5.917V5a3 3 0 00-6 0v.083A6 6 0 002 11v3.159c0 .538-.214 1.055-.595 1.436L0 17h5m10 0v1a3 3 0 01-6 0v-1m6 0H9" /></svg>
                            </button>
                            <button aria-label="Ver mensajes" class="ml-3 p-1 rounded-full text-gray-400 hover:text-gray-600">
                                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
                            </button>
                        </div>
                        
                        <!-- Botón Menú Móvil (Visible solo en móvil) -->
                        <div class="md:hidden flex items-center">
                            <button id="mobile-menu-button" aria-label="Abrir menú" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400">
                                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
                            </button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Área de Contenido Principal -->
            <main class="flex-1 p-6 overflow-y-auto">
                <div class="max-w-7xl mx-auto">
                    <!-- Sección de Búsqueda y Filtros -->
                    <div class="mb-6">
                        <div class="relative">
                            <input type="text" placeholder="Buscar libros (ej. Java)" class="w-full p-4 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500">
                            <button type="submit" class="text-white absolute right-2.5 bottom-2.5 bg-blue-600 hover:bg-blue-700 font-medium rounded-lg text-sm px-4 py-2">Buscar</button>
                        </div>
                        <!--
                          Controles de UI:
                          - Filtros: cambian el estado activo y aplican el modo "comprar" (oculta acciones rentables).
                          - Toggle de vista: alterna entre vista principal (lista horizontal) y vista alternativa (grid).
                        -->
                        <div class="mt-4 flex flex-wrap items-center gap-2" id="filter-buttons">
                            <a href="index.html?filter=todos" class="filter-btn-active" data-filter="todos">
                                <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                                <span>Todos</span>
                            </a>
                            <a href="index.html?filter=comprar" class="filter-btn" data-filter="comprar">
                                <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.5 7H19M7 13l-2-8m2 8h12" /></svg>
                                <span>Comprar</span>
                            </a>
                            <a href="src/pages/rentable.html" class="filter-btn" data-filter="rentable">
                                <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.105 0-2 .895-2 2v7a2 2 0 104 0v-7c0-1.105-.895-2-2-2z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 10V7a5 5 0 0110 0v3" /></svg>
                                <span>Rentable</span>
                            </a>

                            <!-- Botón para alternar vista (JS cambia clases del contenedor de resultados) -->
                            <button id="view-toggle" type="button" class="w-full sm:w-auto sm:ml-auto filter-btn justify-center" aria-label="Cambiar vista">
                                <span id="view-toggle-label">Cambiar vista</span>
                            </button>
                        </div>
                    </div>

                    <!-- Resultados de Búsqueda -->
                    <div>
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Resultados</h2>
                        <!--
                          Contenedor de resultados:
                          - Por defecto es lista (space-y-4) y layout horizontal.
                          - El toggle aplica `view-grid` + clases de grid para mostrar cards verticales.
                        -->
                        <div id="results-container" class="space-y-4">
                            
                            <!-- Tarjeta de Libro (Componente) -->
                            <div class="card">
                                <div class="card-inner">
                                    <img src="src/assets/images/java_avanzado.jpg" alt="Portada del libro Java Avanzado" class="book-cover">
                                    <div class="book-meta">
                                        <div class="flex items-start justify-between gap-3">
                                            <div>
                                                <h3 class="text-lg font-bold text-gray-900">Java Avanzado</h3>
                                                <p class="text-sm text-gray-600 mt-1">Una descripción breve del libro sobre temas avanzados de Java.</p>
                                            </div>
                                            <span class="status-badge status-instock">En stock</span>
                                        </div>
                                        <p class="mt-2 text-xs text-gray-500">Stock: 3</p>
                                        <div class="book-actions">
                                            <button class="btn-details">Ver Details</button>
                                            <button class="btn-buy">Comprar</button>
                                            <button class="btn-secondary rent-action">Rentable</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card">
                                <div class="card-inner">
                                    <img src="src/assets/images/Fundamentos_java.jpg" alt="Portada del libro Fundamentos de Java" class="book-cover">
                                    <div class="book-meta">
                                        <div class="flex items-start justify-between gap-3">
                                            <div>
                                                <h3 class="text-lg font-bold text-gray-900">Fundamentos de Java</h3>
                                                <p class="text-sm text-gray-600 mt-1">Conceptos esenciales y básicos para empezar a programar en Java.</p>
                                            </div>
                                            <span class="status-badge status-rented">Rentado</span>
                                        </div>
                                        <p class="mt-2 text-xs text-gray-500">Stock: 1</p>
                                        <div class="book-actions">
                                            <button class="btn-details">Ver Details</button>
                                            <button class="btn-buy">Comprar</button>
                                            <button class="btn-secondary rent-action btn-disabled" disabled>Rentable</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="card">
                                <div class="card-inner">
                                    <img src="src/assets/images/java_para_principiantes.jpg" alt="Portada del libro Java para Principiantes" class="book-cover">
                                    <div class="book-meta">
                                        <div class="flex items-start justify-between gap-3">
                                            <div>
                                                <h3 class="text-lg font-bold text-gray-900">Java para Principiantes</h3>
                                                <p class="text-sm text-gray-600 mt-1">La guía definitiva para iniciar en el mundo del desarrollo con Java.</p>
                                            </div>
                                            <span class="status-badge status-out">Sin stock</span>
                                        </div>
                                        <p class="mt-2 text-xs text-gray-500">Stock: 0</p>
                                        <div class="book-actions">
                                            <button class="btn-details">Ver Details</button>
                                            <button class="btn-buy btn-disabled" disabled>Comprar</button>
                                            <button class="btn-secondary rent-action btn-disabled" disabled>Rentable</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Script principal de la aplicación -->
    <script src="src/js/script.js"></script>
</body>
</html>